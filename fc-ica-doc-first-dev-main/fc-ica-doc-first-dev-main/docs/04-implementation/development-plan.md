# 개발 계획 (Development Plan)

## 프로젝트: TaskFlow — 태스크 관리 SaaS

---

## 개요

본 문서는 TaskFlow MVP를 5개의 단계(Phase)로 나누어 개발하는 계획을 정의한다. 각 단계는 이전 단계에 의존하며, 단계별 완료 후 동작하는 상태(working state)를 보장한다.

**전체 일정:** 약 10주 (풀타임 개발자 1명 기준)

---

## 단계별 의존 관계

```
Phase 1: 프로젝트 초기 설정
    │
    ▼
Phase 2: 인증 시스템
    │
    ▼
Phase 3: 프로젝트 CRUD
    │
    ▼
Phase 4: 태스크 CRUD + 칸반
    │
    ▼
Phase 5: UI 구현
```

---

## Phase 1: 프로젝트 초기 설정 (1주)

### 목표

개발 환경과 기본 인프라를 구성하여 이후 단계의 개발 기반을 마련한다.

### 작업 목록

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 1.1 | 프로젝트 저장소 초기화 | Git 저장소 생성, `.gitignore`, 모노레포 디렉터리 구조 설정 | 1h |
| 1.2 | Docker Compose 구성 | `docker-compose.yml` 작성 (backend, frontend, db 서비스) | 3h |
| 1.3 | PostgreSQL 설정 | Docker로 PostgreSQL 16 컨테이너 구성, 초기 DB 생성 | 1h |
| 1.4 | Backend 초기 설정 | FastAPI 프로젝트 생성, 의존성 설치 (`pyproject.toml`), health check API | 4h |
| 1.5 | SQLAlchemy 설정 | DB 연결 설정, Base 모델 정의, Alembic 마이그레이션 초기화 | 3h |
| 1.6 | Frontend 초기 설정 | Next.js + TypeScript 프로젝트 생성, Tailwind CSS 설정 | 3h |
| 1.7 | 환경 변수 관리 | `.env.example` 작성, Backend/Frontend 환경 변수 로딩 설정 | 1h |
| 1.8 | 개발 도구 설정 | ESLint, Prettier (Frontend), Ruff, mypy (Backend) 설정 | 2h |

### 디렉터리 구조

```
taskflow/
├── docker-compose.yml
├── .env.example
├── backend/
│   ├── Dockerfile
│   ├── pyproject.toml
│   ├── alembic/
│   ├── app/
│   │   ├── __init__.py
│   │   ├── main.py
│   │   ├── config.py
│   │   ├── database.py
│   │   ├── models/
│   │   ├── schemas/
│   │   ├── routers/
│   │   ├── services/
│   │   └── utils/
│   └── tests/
└── frontend/
    ├── Dockerfile
    ├── package.json
    ├── next.config.js
    ├── tailwind.config.ts
    ├── tsconfig.json
    ├── public/
    └── src/
        ├── app/
        ├── components/
        ├── lib/
        └── types/
```

### 완료 기준 (마일스톤 M1)

- [ ] `docker compose up`으로 backend, frontend, db가 모두 실행된다
- [ ] `GET /api/v1/health` 응답이 `{"status": "ok"}`를 반환한다
- [ ] Frontend에서 `http://localhost:3000`에 기본 페이지가 표시된다
- [ ] Alembic 마이그레이션이 빈 DB에 정상 적용된다

---

## Phase 2: 인증 시스템 (2주)

### 목표

사용자 회원가입, 로그인, JWT 토큰 발급/갱신 기능을 구현한다.

### 작업 목록

#### Backend (1주)

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 2.1 | User 모델 생성 | SQLAlchemy User 모델, Alembic 마이그레이션 | 2h |
| 2.2 | 비밀번호 해싱 유틸 | bcrypt 기반 해싱/검증 함수 (`passlib`) | 1h |
| 2.3 | JWT 유틸 | Access/Refresh Token 생성/검증 함수 (`python-jose`) | 2h |
| 2.4 | Auth 스키마 | Pydantic 요청/응답 스키마 (`RegisterRequest`, `LoginRequest`, `TokenResponse`) | 2h |
| 2.5 | Auth 서비스 | 회원가입, 로그인, 토큰 갱신 비즈니스 로직 | 4h |
| 2.6 | Auth 라우터 | `/auth/register`, `/auth/login`, `/auth/refresh` 엔드포인트 | 3h |
| 2.7 | 인증 미들웨어 | `get_current_user` 의존성 함수 (JWT 검증) | 2h |
| 2.8 | Auth 테스트 | 회원가입, 로그인, 토큰 갱신, 인증 실패 케이스 테스트 | 4h |

#### Frontend (1주)

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 2.9 | API 클라이언트 설정 | Axios 인스턴스, 인터셉터(토큰 자동 첨부/갱신) | 3h |
| 2.10 | 인증 상태 관리 | AuthContext/Provider, 토큰 저장(localStorage) | 3h |
| 2.11 | 로그인 페이지 | 이메일/비밀번호 입력 폼, 유효성 검증, 에러 표시 | 4h |
| 2.12 | 회원가입 페이지 | 이름/이메일/비밀번호 입력 폼, 유효성 검증 | 4h |
| 2.13 | 인증 라우트 가드 | 미인증 사용자 리다이렉트 미들웨어 (`middleware.ts`) | 2h |
| 2.14 | 헤더 컴포넌트 | 로고, 프로필 드롭다운 (로그아웃 기능) | 3h |

### 완료 기준 (마일스톤 M2)

- [ ] 회원가입 → 로그인 → 로그아웃 흐름이 정상 동작한다
- [ ] JWT Access Token이 만료되면 Refresh Token으로 자동 갱신된다
- [ ] 미인증 사용자가 보호된 페이지에 접근하면 로그인 페이지로 리다이렉트된다
- [ ] Backend Auth API 테스트 커버리지 80% 이상

---

## Phase 3: 프로젝트 CRUD (2주)

### 목표

프로젝트 생성/조회/수정/삭제 및 멤버 관리 기능을 구현한다.

### 작업 목록

#### Backend (1주)

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 3.1 | Project, ProjectMember 모델 | SQLAlchemy 모델, Alembic 마이그레이션 | 3h |
| 3.2 | Project 스키마 | Pydantic 요청/응답 스키마 | 2h |
| 3.3 | Project 서비스 | CRUD 비즈니스 로직, 소유자 권한 검증 | 5h |
| 3.4 | Project 라우터 | 프로젝트 CRUD 엔드포인트 | 3h |
| 3.5 | Member 서비스/라우터 | 멤버 추가, 목록 조회 | 4h |
| 3.6 | 권한 검증 유틸 | 프로젝트 멤버 여부, 소유자 여부 확인 함수 | 2h |
| 3.7 | Project 테스트 | CRUD, 멤버 관리, 권한 검증 테스트 | 4h |

#### Frontend (1주)

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 3.8 | 대시보드 페이지 | 프로젝트 카드 그리드, 빈 상태 표시 | 5h |
| 3.9 | 프로젝트 생성 모달 | 이름/설명 입력 폼, 생성 후 이동 | 3h |
| 3.10 | 프로젝트 API 연동 | 목록 조회, 생성, 수정, 삭제 API 호출 | 3h |
| 3.11 | 멤버 관리 UI | 멤버 목록 표시, 이메일로 초대 모달 | 4h |
| 3.12 | 공통 컴포넌트 | Button, Input, Card, Modal, Toast 컴포넌트 구현 | 5h |

### 완료 기준 (마일스톤 M3)

- [ ] 대시보드에서 프로젝트 목록이 표시된다
- [ ] 프로젝트 생성/수정/삭제가 동작한다
- [ ] 프로젝트 소유자만 수정/삭제/멤버 초대가 가능하다
- [ ] 이메일로 기존 사용자를 멤버로 초대할 수 있다

---

## Phase 4: 태스크 CRUD + 칸반 (3주)

### 목표

태스크 생성/조회/수정/삭제, 상태 변경, 칸반 보드의 드래그앤드롭을 구현한다.

### 작업 목록

#### Backend (1주)

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 4.1 | Task 모델 | SQLAlchemy Task 모델, Alembic 마이그레이션 | 3h |
| 4.2 | Task 스키마 | Pydantic 요청/응답 스키마 (필터, 정렬 포함) | 3h |
| 4.3 | Task 서비스 | CRUD 비즈니스 로직, 필터/정렬, position 관리 | 6h |
| 4.4 | Task 라우터 | 프로젝트 스코프 내 태스크 CRUD 엔드포인트 | 3h |
| 4.5 | Position 관리 로직 | 드래그앤드롭 시 position 값 재계산 로직 | 4h |
| 4.6 | Task 테스트 | CRUD, 필터, 정렬, position 변경 테스트 | 5h |

#### Frontend (2주)

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 4.7 | 칸반 보드 레이아웃 | 3컬럼(TODO, IN_PROGRESS, DONE) 레이아웃 | 4h |
| 4.8 | TaskCard 컴포넌트 | 우선순위 뱃지, 제목, 담당자 표시 | 3h |
| 4.9 | 드래그앤드롭 구현 | `@dnd-kit/core` 라이브러리 연동, 컬럼 간 이동 | 8h |
| 4.10 | 낙관적 업데이트 | 드래그 즉시 UI 반영, API 실패 시 롤백 | 4h |
| 4.11 | 태스크 생성 UI | 컬럼 하단 인라인 생성 + 상세 생성 모달 | 4h |
| 4.12 | 태스크 상세 사이드 패널 | 제목/설명/상태/우선순위/담당자 편집, 삭제 | 6h |
| 4.13 | 필터 바 구현 | 담당자, 우선순위 필터 드롭다운 | 4h |
| 4.14 | 태스크 API 연동 | 목록 조회, 생성, 수정, 삭제, 상태 변경 API 호출 | 4h |

### 완료 기준 (마일스톤 M4)

- [ ] 칸반 보드에 상태별 태스크가 컬럼으로 표시된다
- [ ] 태스크 카드를 드래그하여 다른 컬럼으로 이동하면 상태가 변경된다
- [ ] 태스크 생성/수정/삭제가 동작한다
- [ ] 담당자, 우선순위로 태스크를 필터링할 수 있다
- [ ] 사이드 패널에서 태스크 상세 정보를 편집할 수 있다

---

## Phase 5: UI 완성 및 마무리 (2주)

### 목표

전체 UI를 디자인 스펙에 맞게 완성하고, 반응형 대응 및 사용성을 개선한다.

### 작업 목록

| # | 작업 | 설명 | 예상 시간 |
|---|------|------|-----------|
| 5.1 | 디자인 시스템 적용 | 색상, 타이포그래피, 간격을 UI 스펙에 맞게 통일 | 4h |
| 5.2 | 반응형 대응 | 모바일/태블릿/데스크톱 반응형 레이아웃 | 6h |
| 5.3 | 로딩 상태 | 스켈레톤 UI, 로딩 스피너, 버튼 로딩 상태 | 3h |
| 5.4 | 에러 처리 | API 에러 토스트 메시지, 네트워크 에러 화면 | 3h |
| 5.5 | 빈 상태 처리 | 프로젝트 없음, 태스크 없음 빈 상태 UI | 2h |
| 5.6 | 접근성 개선 | ARIA 레이블, 키보드 네비게이션, 포커스 관리 | 4h |
| 5.7 | 애니메이션/트랜지션 | 모달 열기/닫기, 사이드 패널 슬라이드, 카드 호버 | 3h |
| 5.8 | 성능 최적화 | React.memo, useMemo, 이미지 최적화, 번들 사이즈 점검 | 3h |
| 5.9 | E2E 테스트 | Playwright로 주요 사용자 흐름 테스트 | 6h |
| 5.10 | 버그 수정 및 QA | 전체 흐름 점검, 엣지 케이스 대응 | 6h |

### 완료 기준 (마일스톤 M5 - MVP 출시)

- [ ] 디자인 스펙에 맞게 모든 화면의 UI가 완성되었다
- [ ] 모바일, 태블릿, 데스크톱에서 정상 동작한다
- [ ] 주요 사용자 흐름(회원가입 → 프로젝트 생성 → 태스크 관리)이 E2E 테스트로 검증되었다
- [ ] 로딩, 에러, 빈 상태가 모두 적절히 처리되었다
- [ ] Lighthouse 성능 점수 90 이상

---

## 일정 요약

```
주차  1    2    3    4    5    6    7    8    9    10
     ├────┤
     Phase 1
          ├─────────┤
          Phase 2
                    ├─────────┤
                    Phase 3
                              ├──────────────┤
                              Phase 4
                                             ├─────────┤
                                             Phase 5
                                                       ▲
                                                    MVP 출시
```

| 단계 | 기간 | 시작 | 종료 | 마일스톤 |
|------|------|------|------|----------|
| Phase 1 | 1주 | 1주차 | 1주차 | M1: 개발 환경 구축 완료 |
| Phase 2 | 2주 | 2주차 | 3주차 | M2: 인증 시스템 완료 |
| Phase 3 | 2주 | 4주차 | 5주차 | M3: 프로젝트 관리 완료 |
| Phase 4 | 3주 | 6주차 | 8주차 | M4: 태스크 + 칸반 완료 |
| Phase 5 | 2주 | 9주차 | 10주차 | M5: MVP 출시 |

---

## 기술 스택 상세

### Backend

| 항목 | 기술 | 버전 |
|------|------|------|
| 언어 | Python | 3.12 |
| 프레임워크 | FastAPI | 0.115+ |
| ORM | SQLAlchemy | 2.x |
| 마이그레이션 | Alembic | 1.13+ |
| 유효성 검증 | Pydantic | 2.x |
| 비밀번호 해싱 | passlib[bcrypt] | 1.7+ |
| JWT | python-jose[cryptography] | 3.3+ |
| 테스트 | pytest + httpx | - |
| 린터/포매터 | Ruff | 0.5+ |
| 타입 체크 | mypy | 1.10+ |

### Frontend

| 항목 | 기술 | 버전 |
|------|------|------|
| 프레임워크 | Next.js (App Router) | 15.x |
| 언어 | TypeScript | 5.x |
| 스타일링 | Tailwind CSS | 4.x |
| HTTP 클라이언트 | Axios | 1.x |
| 드래그앤드롭 | @dnd-kit/core | 6.x |
| 폼 관리 | React Hook Form | 7.x |
| 유효성 검증 | Zod | 3.x |
| 테스트 | Playwright (E2E) | 1.x |
| 린터/포매터 | ESLint + Prettier | - |

### 인프라

| 항목 | 기술 | 설명 |
|------|------|------|
| 컨테이너 | Docker | 로컬 개발 환경 |
| 오케스트레이션 | Docker Compose | 멀티 서비스 관리 |
| 데이터베이스 | PostgreSQL | 16 |

---

## 리스크 및 대응 방안

| 리스크 | 가능성 | 영향도 | 대응 방안 |
|--------|--------|--------|-----------|
| 드래그앤드롭 구현 지연 | 중 | 높음 | @dnd-kit 라이브러리의 예제 코드를 기반으로 빠르게 프로토타이핑. 복잡한 기능(같은 컬럼 내 재정렬)은 후순위로 |
| API 성능 이슈 | 낮음 | 중 | 복합 인덱스 사전 설계, N+1 쿼리 방지를 위한 joined loading 적용 |
| 인증 보안 취약점 | 낮음 | 높음 | OWASP 기준 체크리스트 적용, Refresh Token Rotation 적용 |
| 일정 지연 | 중 | 중 | 주간 마일스톤 점검, 기능 범위 축소 가능 (필터링 → Post-MVP) |
